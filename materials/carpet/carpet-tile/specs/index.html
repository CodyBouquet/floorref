<!doctype html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-KJPSMV89KV"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-KJPSMV89KV');
  </script>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <title>Carpet Tile Specs | Flooring Reference</title>
  <meta name="description" content="Plain-English index of carpet tile specifications and installation considerations — reference-only." />

  <!-- Tailwind CSS -->
  <link rel="stylesheet" href="/tailwind.css">

  <link rel="icon" href="/favicon.ico" />
</head>

<body class="min-h-screen bg-white text-slate-900">
  <!-- Injected header -->
  <div id="site-header"></div>

  <main class="mx-auto max-w-5xl px-4 sm:px-6 lg:px-8 py-10">
    <!-- Title -->
    <header class="mb-8">
      <h1 class="text-3xl sm:text-4xl font-semibold tracking-tight">Carpet Tile Specs</h1>

      <p class="mt-3 text-base sm:text-lg text-slate-700 leading-relaxed">Use this index to find the most common carpet tile specifications you’ll see on technical data sheets. Each spec page explains what it means, why it matters, and how it is reported.</p>

      <div class="mt-5 rounded-xl border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700">
        <p class="font-medium text-slate-900 mb-1">Reference-only</p>
        <p>
          Specs and requirements vary by manufacturer and product. Always confirm current documentation for the exact item you’re reviewing.
        </p>
      </div>
    </header>

    <!-- Most Common Specs (auto from GA top-pages.json) -->
    <section class="mb-10">
      <h2 class="text-xl font-semibold mb-4">Most Common Specs</h2>

      <div id="most-common-specs" class="grid gap-4 sm:grid-cols-2"></div>

      <p id="most-common-empty" class="mt-3 text-sm text-slate-600 hidden">
        Not enough usage data yet for this category.
      </p>
    </section>

    <!-- Full Specs Index -->
    <section class="mb-12">
      <h2 class="text-xl font-semibold mb-4">Full Spec Index</h2>

      <div class="grid gap-6">
        <div class="rounded-2xl border border-slate-200 p-6">
          <h3 class="text-lg font-semibold mb-3">Specs</h3>
          <ul class="grid sm:grid-cols-2 gap-y-2 gap-x-6 text-slate-800">
            <li><a class="text-blue-700 hover:underline" href="./installation-patterns.html">Installation Patterns</a></li>
            <li><a class="text-blue-700 hover:underline" href="./moisture-limits.html">Moisture Limits</a></li>
            <li><a class="text-blue-700 hover:underline" href="./releasable-adhesive.html">Releasable Adhesive</a></li>
            <li><a class="text-blue-700 hover:underline" href="./tile-backing-system.html">Tile Backing System</a></li>
            <li><a class="text-blue-700 hover:underline" href="./tile-backing-systems.html">Tile Backing Systems</a></li>
            <li><a class="text-blue-700 hover:underline" href="./tile-size.html">Tile Size</a></li>
            <li><a class="text-blue-700 hover:underline" href="./underfloor-access.html">Underfloor Access</a></li>
          </ul>
        </div>
      </div>
    </section>

    <div class="mt-10">
      <a href="../" class="text-blue-700 hover:underline">← Back</a>
    </div>
  </main>

  <div id="site-footer"></div>

  <script src="/assets/js/site.js"></script>
  <script src="/assets/js/site.js"></script>

  <!-- Most Common Specs injector -->
  <script>
  (async function () {
    const container = document.getElementById("most-common-specs");
    const emptyMsg = document.getElementById("most-common-empty");
    if (!container) return;

    const INCLUDE_PREFIX = "/materials/carpet/carpet-tile/specs/";
    const EXCLUDE_EXACT = new Set([
      INCLUDE_PREFIX
    ]);
    const ONLY_SUBFOLDERS = [];

    let all = [];
    try {
      const res = await fetch("/data/top-pages.json", { cache: "no-store" });
      if (!res.ok) throw new Error("Failed to load /data/top-pages.json");
      all = await res.json();
    } catch (e) {
      if (emptyMsg) emptyMsg.classList.remove("hidden");
      return;
    }

    const filtered = all
      .filter(item => item && typeof item.url === "string")
      .filter(item => item.url.startsWith(INCLUDE_PREFIX))
      .filter(item => !EXCLUDE_EXACT.has(item.url))
      .filter(item => {
        if (!ONLY_SUBFOLDERS.length) return true;
        const rel = item.url.slice(INCLUDE_PREFIX.length);
        return ONLY_SUBFOLDERS.some(sub => rel.startsWith(sub));
      })
      .sort((a, b) => (Number(b.score) || 0) - (Number(a.score) || 0))
      .slice(0, 4);

    if (!filtered.length) {
      if (emptyMsg) emptyMsg.classList.remove("hidden");
      return;
    }

    container.innerHTML = filtered.map(item => `
      <a href="${item.url}"
         class="block rounded-2xl border border-slate-200 p-5 hover:bg-slate-50 transition">
        <div class="font-semibold">${escapeHtml(item.title || "Spec")}</div>
        <div class="mt-1 text-sm text-slate-600">${escapeHtml(item.blurb || "")}</div>
      </a>
    `).join("");

    function escapeHtml(str) {
      return String(str).replace(/[&<>"']/g, s => ({
        "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;"
      }[s]));
    }
  })();
  </script>
</body>
</html>
